# ===========================================
# NaoTodo Server 环境配置模板
# ===========================================
# 复制此文件为 .env 并填入实际配置信息
# cp .env.example .env

# 应用环境
NODE_ENV=development
PORT=3002

# MongoDB 数据库配置
# 开发环境示例: mongodb://localhost:27017/naotodo
# 生产环境示例: mongodb://username:password@host:port/naotodo?authSource=admin&ssl=true
MONGODB_URI=mongodb://111.170.131.53:27017/naotodo
MONGODB_DB_NAME=naotodo

# MongoDB 连接池配置
MONGODB_MAX_POOL_SIZE=100
MONGODB_MIN_POOL_SIZE=5
MONGODB_MAX_IDLE_TIME_MS=30000
MONGODB_SERVER_SELECTION_TIMEOUT_MS=5000
MONGODB_SOCKET_TIMEOUT_MS=45000

# JWT 配置
JWT_SECRET=your-super-secure-jwt-secret-at-least-32-characters-long
JWT_EXPIRES_IN=7d
JWT_ISSUER=naotodo-server
JWT_AUDIENCE=naotodo-client

# CORS 配置
CORS_ORIGIN=http://localhost:5173
CORS_CREDENTIALS=true

# 文件上传配置
UPLOAD_PATH=./uploads
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp

# SSL/HTTPS 配置 (生产环境)
SSL_CERT_PATH=./certs/fullchain.pem
SSL_KEY_PATH=./certs/privkey.pem

# OpenAI API 配置
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=1000

# 日志配置
LOG_LEVEL=info
LOG_FILE=./logs/app.log
LOG_MAX_SIZE=10485760
LOG_MAX_FILES=5

# 缓存配置 (如使用 Redis)
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=your-redis-password

# 监控和健康检查
HEALTH_CHECK_PATH=/health
METRICS_PATH=/metrics

# 开发环境专用
DEV_SHOW_MONGOOSE_DEBUG=false
DEV_ENABLE_CORS_ALL_ORIGINS=true
DEV_MOCK_EMAIL_SERVICE=true

# 生产环境专用
PROD_ENABLE_RATE_LIMITING=true
PROD_RATE_LIMIT_WINDOW_MS=900000
PROD_RATE_LIMIT_MAX_REQUESTS=100
PROD_ENABLE_HELMET_SECURITY=true
PROD_TRUST_PROXY=true